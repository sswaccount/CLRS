#### 最短路径性质及其证明

阐述最短路径算法正确性的性质，主要分为三个方面，其中所有性质的背景都建立在条件：

- 带权有向图$G=(V,E)$
- 权重函数$w:E\rightarrow R$
- 源节点为`s`
- $\delta(s,v)$表述的是定义源节点到某一节点的最短路径

性质证明之后更多的是利用性质推导定义的最短路径与求解的最短路径的等价关系。

##### 三角不等式

> 对于所有的边$(u,v)$，有：
> $$
> \delta(s,v)\le \delta(s,u)+w(u,v)
> $$

存在一条路径$p$使得其为`s`到`v`的最短路径，所以不存在任何一条比$p$更小的两点之间的路径，所以说$p$路径的值一定不会比上述的由`v`中转的路径值大，所以上述不等式存在。

不存在路径时，因为前提是对所有存在的边，所以一定是过程中出现负权环边，那么定义距离为$\infty$即解决问题。

##### 最短路径估计值松弛效果

> 上界性质：执行初始化算法后，除源节点的所有节点都有$v.d\ge\delta(s,v)$，且在松弛过程中成立，一旦取得下界$\delta(s,v)$后计算结果不发生变化。

1. 初始化后除源节点外均满足，源节点设定数值为0，定义值在不存在该点在负权环路时为0，存在时则为$-\infty$也满足；

2. 假设在前面步骤中均满足上述约定，进行至$(u,v)$边的松弛时，有操作：
   $$
   \begin{aligned}
   v \cdot d &=u \cdot d+w(u, v) \\
   & \geq \delta(s, u)+w(u, v) \\
   & \geq \delta(s, v)
   \end{aligned}
   $$
   根据假设和三角不等式约束得到结论维持不变。

3. 取得定义值（下界）后松弛函数不在发挥作用，所以不再减小，且数值的变化有递减单调性。

> 非路径性质：源节点到某个节点`v`不存在路径，在初始化后数值被初始化为计算机中的“定义无穷”，且该等式（初始化）一直维持到松弛结束。

由上界性质得到：
$$
\infty=\delta(s, v)\le v.d
$$
所以得到结论，这里上界性质可能名字会产生疑惑，但这个过程是通过压缩上界逼近下界的过程。

> 对边$(u,v)$进行松弛时，有结论：
> $$
> v.d\le u.d+w(u, v)
> $$

在松弛操作前有情况：
$$
v.d > u.d+w(u, v)
$$
操作后即：
$$
v.d= u.d+w(u, v)
$$
若操作前就满足结论则不做讨论。

> 收敛性质：路径$s \leadsto u \rightarrow v$为一条最短路径，那么初始化后，若在对$(u,v)$进行松弛前满足：
> $$
> u.d=\delta(s,u)
> $$
> 那么松弛操作之后就满足：
> $$
> v.d=\delta(s,v)
> $$

在对其$(u,v)$做松弛操作后满足：
$$
\begin{aligned}
v \cdot d & \leq u \cdot d+w(u, v) \\
&=\delta(s, u)+w(u, v) \\
&=\delta(s, v)
\end{aligned}
$$
又因为存在上界性质和迫敛性质得到结论等式存在。最后等式推导的前提是在最短路径中的子路径也是最短路径。

> 路径松弛性质：存在最短路径$p$表达为：
> $$
> p=<v_0,v_1,...,v_k>
> $$
> 在初始化后进行松弛操作，其中按照松弛路径中点的顺序进行松弛操作，在其结束时有:
> $$
> v_k.d=\delta(s,v_k)
> $$
> 在之后全程继续成立且不受其他边松弛操作顺序影响。

可以发现路径松弛性质作为了收敛性质的一个扩充，当最短路径$p$长度为2即为退化到了收敛性质的应用。

1. 在初始化后，$k=0$时，节点为源节点，所以得到了结论；

2. 当$k=i-1$成立时，对$(v_{i-1},v_i)$进行松弛，根据收敛性质得到：
   $$
   v_i.d=\delta(s,v_i)
   $$
   且在之后始终成立。
